apiVersion: v1
kind: Config
clusters:
  - name: test-cluster1
    cluster:
      server: https://10.0.0.1:6443
      certificate-authority-data: test==
  - name: test-cluster2
    cluster:
      server: https://10.0.0.2:6443
      certificate-authority-data: test2==
contexts:
  - name: oidc-user@test-cluster1
    context:
      cluster: test-cluster1
      user: oidc-user
      namespace: test-namespaces
  - name: oidc-user@test-cluster2
    context:
      cluster: test-cluster2
      user: oidc-user
users:
  - name: oidc-user
    user:
      exec:
        apiVersion: client.authentication.k8s.io/v1beta1
        args:
          - oidc-login
          - get-token
          - --oidc-issuer-url=https://idp-domain/auth
          - --oidc-client-id=k8s-api
          - --grant-type=password
        command: kubectl
        env: null
        interactiveMode: IfAvailable
        provideClusterInfo: false
